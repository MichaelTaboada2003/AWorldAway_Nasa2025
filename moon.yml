$schema: https://moonrepo.dev/schemas/project.json

layer: automation

id: source

project:
    name: "AWorldAway_Nasa2025"
    description: "ROOT Directory in order to automate some tasks"

tasks:
    copy-model:
        command: bash
        args:
            - scripts/copy-model.sh
        deps:
            - analytics:generate
        options:
            runFromWorkspaceRoot: true
            cache: false

    prepare:
        command: noop
        deps:
            - source:copy-model
        options:
            cache: false

    deploy:
        command: bash
        args:
            - scripts/deploy.sh
        deps:
            - source:prepare
        options:
            runFromWorkspaceRoot: true
            cache: false

    dev:
        command: noop
        deps:
            - source:prepare
            - server:run
            - web:dev
